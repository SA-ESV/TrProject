# Разбор сценария

|||
|--|---|
|Наименование UC:|Возврат заказа Клиентом|
|Код UC:||
|Действующие лица:| * Клиент, * Администратор магазина, * Веб-сайт магазина (далее Система), * Сервис платежей Payture |
|Триггер:|Клиент возвращает заказ в магазин|

**Предусловия:** Клиент возвращает ранее оформленный заказ. Оплата по заказу была выполнена.

**Постусловия:** Успешно проведен возврат денежных средств Клиента в Payture
В Системе успешно сохранен результат возврата

**Основной поток:**
1. Клиент возвращает заказ в магазин
2. Администратор магазина забирает заказ
3. Администратор магазина совершает поиск нужного заказа в Системе
4. Администратор магазина оформляет возврат на заказ в Системе
5. Администратор магазина оформляет возврат денежных средств Клиенту за заказ
6. Система удерживает с суммы заказа - суммы доставки
7. Система отправляет в Payture операцию возврата денежных средств по платежу Клиента (с учетом удержания суммы доставки)
8. Payture обрабатывает возврат
9. Payture передает в Систему результат обработки возврата
10. Система убеждается, что операция возврата прошла успешна
11. Система сохраняет результат возврата и отображает его Администратору магазина
12. Администратор магазина сообщает Клиент об успешном завершение возврата

**Расширения (Альтернатива, Исключения):**